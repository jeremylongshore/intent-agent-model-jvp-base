<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAM1 Battalion Commander - Intent Agent Model Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 800;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
        }

        nav {
            background: #f8f9fa;
            padding: 20px 40px;
            border-bottom: 3px solid #667eea;
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        nav a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #764ba2;
        }

        .content {
            padding: 60px 40px;
        }

        .section {
            margin-bottom: 80px;
        }

        .section h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #667eea;
            border-bottom: 4px solid #667eea;
            padding-bottom: 10px;
        }

        .section p {
            font-size: 1.1em;
            margin-bottom: 30px;
            color: #555;
        }

        .diagram-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .diagram-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .feature-card h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .feature-card ul {
            list-style: none;
            padding-left: 0;
        }

        .feature-card li:before {
            content: "‚úì ";
            font-weight: bold;
            margin-right: 8px;
        }

        .cta-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
            border-radius: 15px;
            margin: 40px 0;
        }

        .cta-section h2 {
            color: white;
            border: none;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1em;
            transition: transform 0.3s, box-shadow 0.3s;
            display: inline-block;
        }

        .btn-primary {
            background: white;
            color: #667eea;
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 40px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .section h2 {
                font-size: 2em;
            }

            .diagram-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öîÔ∏è IAM1 Battalion Commander</h1>
            <p>Intent Agent Model - Hierarchical Command & Control with A2A Peer Coordination</p>
            <div class="badges">
                <span class="badge">A2A Protocol 0.3.0</span>
                <span class="badge">Vertex AI</span>
                <span class="badge">Google ADK</span>
                <span class="badge">Production Ready</span>
                <span class="badge">MIT License</span>
            </div>
        </header>

        <nav>
            <a href="#architecture">Architecture</a>
            <a href="#workflow">Workflow</a>
            <a href="#coordination">A2A Coordination</a>
            <a href="#industries">Industry Examples</a>
            <a href="#deployment">Deployment</a>
            <a href="https://github.com/jeremylongshore/iam1-regional-manager" target="_blank">GitHub</a>
        </nav>

        <div class="content">
            <!-- Architecture Section -->
            <section id="architecture" class="section">
                <h2>üèõÔ∏è Hierarchical Architecture</h2>
                <p>IAM1 Battalion Commander operates like a military commander in your organization, commanding specialist squads (IAM2 agents) and coordinating with peer commanders (other IAM1s) across the battlefield.</p>

                <div class="diagram-container">
                    <div class="diagram-title">IAM1 ‚Üí IAM2 Hierarchical Structure</div>
                    <div class="mermaid">
graph TB
    User[üë§ User] -->|Query| IAM1[‚öîÔ∏è IAM1 Battalion Commander<br/>Gemini 2.0 Flash]

    IAM1 -->|Knowledge Retrieval| RAG[üìö RAG System<br/>Vertex AI Search]
    IAM1 -->|Commands| IAM2_Research[üî¨ Research Agent<br/>Gemini 2.5 Flash]
    IAM1 -->|Commands| IAM2_Code[üíª Code Agent<br/>Gemini 2.5 Flash]
    IAM1 -->|Commands| IAM2_Data[üìä Data Agent<br/>Gemini 2.5 Flash]
    IAM1 -->|Commands| IAM2_Slack[üí¨ Slack Agent<br/>Gemini 2.5 Flash]

    IAM2_Research -->|Analysis| IAM1
    IAM2_Code -->|Code| IAM1
    IAM2_Data -->|Insights| IAM1
    IAM2_Slack -->|Messages| IAM1

    IAM1 -->|Synthesized Response| User

    style IAM1 fill:#667eea,stroke:#333,stroke-width:4px,color:#fff
    style IAM2_Research fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style IAM2_Code fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style IAM2_Data fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style IAM2_Slack fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style RAG fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style User fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>üß† IAM1 Orchestrator</h3>
                        <ul>
                            <li>Gemini 2.0 Flash LLM</li>
                            <li>Decision framework</li>
                            <li>Task routing</li>
                            <li>Response synthesis</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>ü§ñ IAM2 Specialists</h3>
                        <ul>
                            <li>Research: Deep analysis</li>
                            <li>Code: Generation & debug</li>
                            <li>Data: BigQuery & analytics</li>
                            <li>Slack: Channel management</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>üìö Knowledge Base</h3>
                        <ul>
                            <li>Vertex AI Search (RAG)</li>
                            <li>Private data grounding</li>
                            <li>Re-ranking for relevance</li>
                            <li>Citation support</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- A2A Coordination Section -->
            <section id="coordination" class="section">
                <h2>ü§ù A2A Protocol Peer Coordination</h2>
                <p>IAM1 agents can coordinate with peer IAM1s across different domains using the Agent2Agent (A2A) Protocol. This enables cross-functional collaboration at scale.</p>

                <div class="diagram-container">
                    <div class="diagram-title">Multi-Domain IAM1 Coordination Network</div>
                    <div class="mermaid">
graph LR
    Sales[üí∞ Sales IAM1<br/>CRM & Revenue]
    Engineering[üõ†Ô∏è Engineering IAM1<br/>Product & Tech]
    Operations[üöÄ Operations IAM1<br/>Infrastructure]
    Marketing[üìà Marketing IAM1<br/>Campaigns]
    Finance[üíµ Finance IAM1<br/>Budget & Forecasts]
    HR[üë• HR IAM1<br/>Hiring & Org]

    Sales <-->|A2A Protocol| Engineering
    Sales <-->|A2A Protocol| Finance
    Engineering <-->|A2A Protocol| Operations
    Engineering <-->|A2A Protocol| Marketing
    Operations <-->|A2A Protocol| Finance
    Marketing <-->|A2A Protocol| Sales
    HR <-->|A2A Protocol| Finance
    HR <-->|A2A Protocol| Operations

    style Sales fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
    style Engineering fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
    style Operations fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
    style Marketing fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
    style Finance fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
    style HR fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
                    </div>
                </div>

                <div class="diagram-container">
                    <div class="diagram-title">A2A Communication Flow</div>
                    <div class="mermaid">
sequenceDiagram
    participant User
    participant Sales_IAM1 as Sales IAM1
    participant Eng_IAM1 as Engineering IAM1
    participant Research as Research IAM2

    User->>Sales_IAM1: "When will feature X ship?"
    Sales_IAM1->>Sales_IAM1: Analyze query<br/>(needs cross-domain info)
    Sales_IAM1->>Eng_IAM1: A2A Request:<br/>"Get Q2 product roadmap"
    Eng_IAM1->>Research: Route to Research IAM2
    Research->>Research: Query knowledge base
    Research->>Eng_IAM1: Roadmap details
    Eng_IAM1->>Sales_IAM1: A2A Response:<br/>Roadmap + timeline
    Sales_IAM1->>Sales_IAM1: Synthesize answer
    Sales_IAM1->>User: "Feature X ships in Q2 2025"

    Note over Sales_IAM1,Eng_IAM1: JSON-RPC 2.0 over HTTPS<br/>API Key Authentication
                    </div>
                </div>
            </section>

            <!-- Workflow Section -->
            <section id="workflow" class="section">
                <h2>‚öôÔ∏è Development & Deployment Workflow</h2>
                <p>From base model to production deployments with upgrade synchronization built-in.</p>

                <div class="diagram-container">
                    <div class="diagram-title">Base Model ‚Üí Client Deployment Pipeline</div>
                    <div class="mermaid">
graph TB
    BaseModel[üì¶ Base IAM1 Template<br/>github.com/jeremylongshore/iam1-regional-manager]

    subgraph "Development"
        BaseModel -->|Feature Updates| Dev[üîß Development Branch]
        Dev -->|Testing| CI[‚úÖ CI/CD Pipeline<br/>Tests, Lint, Security]
        CI -->|Merge| BaseModel
    end

    subgraph "Open Source Community"
        BaseModel -->|Fork/Clone| OSS1[üë®‚Äçüíª Developer 1]
        BaseModel -->|Fork/Clone| OSS2[üë©‚Äçüíª Developer 2]
        BaseModel -->|Fork/Clone| OSS3[üßë‚Äçüíª Developer 3]
        OSS1 -->|Pull Updates| BaseModel
        OSS2 -->|Pull Updates| BaseModel
        OSS3 -->|Pull Updates| BaseModel
    end

    subgraph "Client Deployments"
        BaseModel -->|Template| Client1[üè¢ Client A IAM1<br/>Sales Domain]
        BaseModel -->|Template| Client2[üè¢ Client B IAM1<br/>Engineering Domain]
        BaseModel -->|Template| Client3[üè¢ Client C IAM1<br/>Operations Domain]

        Client1 -->|git upstream| BaseModel
        Client2 -->|git upstream| BaseModel
        Client3 -->|git upstream| BaseModel

        Client1 --> Vertex1[‚òÅÔ∏è Vertex AI<br/>Project A]
        Client2 --> Vertex2[‚òÅÔ∏è Vertex AI<br/>Project B]
        Client3 --> Vertex3[‚òÅÔ∏è Vertex AI<br/>Project C]
    end

    style BaseModel fill:#764ba2,stroke:#333,stroke-width:4px,color:#fff
    style Client1 fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style Client2 fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style Client3 fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style Vertex1 fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style Vertex2 fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style Vertex3 fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
                    </div>
                </div>
            </section>


            <!-- Industry Examples Section -->
            <section id="industries" class="section">
                <h2>üè¢ Real-World Industry Examples</h2>
                <p>See how IAM1's hierarchical architecture adapts to different industries with symbolic representation of multi-level agent coordination.</p>

                <div class="diagram-container">
                    <div class="diagram-title">Regional Law Firm - Multi-Office Coordination</div>
                    <div class="mermaid">
graph TB
    Partners[üë• Multiple Partners<br/>Shared Access] -->|Queries| IAM1[‚öñÔ∏è IAM1: Firm Operations Manager<br/>Gemini 2.0 Flash]

    IAM1 -->|Commands| IAM2_PI[üíº IAM2: Personal Injury<br/>Practice Leader]
    IAM1 -->|Commands| IAM2_EST[üìú IAM2: Estate Litigation<br/>Practice Leader]
    IAM1 -->|Commands| IAM2_REF[üîÑ IAM2: Referral Network<br/>Manager]

    IAM2_PI -->|Commands| IAM3_PI_Group["üèõÔ∏è IAM3 Offices (3)<br/>Mobile ‚Ä¢ Pensacola ‚Ä¢ Birmingham"]
    IAM2_EST -->|Commands| IAM3_EST_Group["üèõÔ∏è IAM3 Offices (3)<br/>Mobile ‚Ä¢ Pensacola ‚Ä¢ Birmingham"]
    IAM2_REF -->|Coordinates| IAM3_REF_Group["ü§ù IAM3 Referral Partners (4+)<br/>Criminal ‚Ä¢ Family ‚Ä¢ Business ‚Ä¢ Immigration"]

    IAM3_PI_Group -->|Commands| IAM4_PI_Teams["‚öôÔ∏è IAM4 Teams (12 total)<br/>4 per office:<br/>‚Ä¢ Contract Review<br/>‚Ä¢ Due Diligence<br/>‚Ä¢ Legal Research<br/>‚Ä¢ Client Communications"]

    IAM3_EST_Group -->|Commands| IAM4_EST_Teams["‚öôÔ∏è IAM4 Teams (12 total)<br/>4 per office:<br/>‚Ä¢ Probate Processing<br/>‚Ä¢ Will Contests<br/>‚Ä¢ Estate Planning<br/>‚Ä¢ Trust Administration"]

    IAM3_REF_Group -->|Commands| IAM4_REF_Teams["‚öôÔ∏è IAM4 Teams (16 total)<br/>4 per specialty:<br/>‚Ä¢ Qualification<br/>‚Ä¢ Attorney Matching<br/>‚Ä¢ Introduction<br/>‚Ä¢ Follow-up Tracking"]

    style IAM1 fill:#667eea,stroke:#333,stroke-width:4px,color:#fff
    style IAM2_PI fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style IAM2_EST fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style IAM2_REF fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style IAM3_PI_Group fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style IAM3_EST_Group fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style IAM3_REF_Group fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style IAM4_PI_Teams fill:#9f7aea,stroke:#333,stroke-width:2px,color:#fff
    style IAM4_EST_Teams fill:#9f7aea,stroke:#333,stroke-width:2px,color:#fff
    style IAM4_REF_Teams fill:#9f7aea,stroke:#333,stroke-width:2px,color:#fff
    style Partners fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
                    </div>
                </div>

                <div class="diagram-container">
                    <div class="diagram-title">Regional Auto Dealer Group - Multi-Brand Operations</div>
                    <div class="mermaid">
graph TB
    DSM[üéØ Dealer Sales Manager<br/>Multi-Brand Access] -->|Queries| IAM1[üöó IAM1: Regional Auto Group<br/>Operations Manager<br/>Gemini 2.0 Flash]

    IAM1 -->|Commands| IAM2_NEW[üÜï IAM2: New Car Sales<br/>Practice Leader]
    IAM1 -->|Commands| IAM2_USED[‚ôªÔ∏è IAM2: Used Car Sales<br/>Practice Leader]
    IAM1 -->|Commands| IAM2_SERVICE[üîß IAM2: Service & Parts<br/>Practice Leader]

    IAM2_NEW -->|Commands| IAM3_NEW_Group["üè™ IAM3 Brand Locations (3)<br/>Ford ‚Ä¢ Chevrolet ‚Ä¢ Toyota"]
    IAM2_USED -->|Commands| IAM3_USED_Group["üè™ IAM3 Locations (3)<br/>Mobile ‚Ä¢ Pensacola ‚Ä¢ Panama City"]
    IAM2_SERVICE -->|Commands| IAM3_SERVICE_Group["üè™ IAM3 Service Centers (3)<br/>Mobile ‚Ä¢ Pensacola ‚Ä¢ Panama City"]

    IAM3_NEW_Group -->|Commands| IAM4_NEW_Teams["‚öôÔ∏è IAM4 Teams (12 total)<br/>4 per brand:<br/>‚Ä¢ Lead Qualification<br/>‚Ä¢ Inventory Matcher<br/>‚Ä¢ Finance Pre-Approval<br/>‚Ä¢ Trade-In Appraiser"]

    IAM3_USED_Group -->|Commands| IAM4_USED_Teams["‚öôÔ∏è IAM4 Teams (12 total)<br/>4 per location:<br/>‚Ä¢ Vehicle History Reporter<br/>‚Ä¢ Pricing Optimizer<br/>‚Ä¢ Cross-Brand Matcher<br/>‚Ä¢ Warranty Builder"]

    IAM3_SERVICE_Group -->|Commands| IAM4_SERVICE_Teams["‚öôÔ∏è IAM4 Teams (12 total)<br/>4 per center:<br/>‚Ä¢ Appointment Scheduler<br/>‚Ä¢ Diagnostic Assistant<br/>‚Ä¢ Parts Sourcing<br/>‚Ä¢ Recall/Maintenance Reminders"]

    style IAM1 fill:#667eea,stroke:#333,stroke-width:4px,color:#fff
    style IAM2_NEW fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style IAM2_USED fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style IAM2_SERVICE fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style IAM3_NEW_Group fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style IAM3_USED_Group fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style IAM3_SERVICE_Group fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style IAM4_NEW_Teams fill:#9f7aea,stroke:#333,stroke-width:2px,color:#fff
    style IAM4_USED_Teams fill:#9f7aea,stroke:#333,stroke-width:2px,color:#fff
    style IAM4_SERVICE_Teams fill:#9f7aea,stroke:#333,stroke-width:2px,color:#fff
    style DSM fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>‚öñÔ∏è Law Firm Use Case</h3>
                        <ul>
                            <li>Multi-partner shared access</li>
                            <li>Practice area specialization</li>
                            <li>Cross-office coordination</li>
                            <li>Automated referral routing</li>
                            <li>Case management at scale</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>üöó Auto Dealer Use Case</h3>
                        <ul>
                            <li>Multi-brand inventory</li>
                            <li>Cross-location coordination</li>
                            <li>Service-sales integration</li>
                            <li>Customer lifecycle management</li>
                            <li>Lead routing & qualification</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>üè¢ Both Examples Show</h3>
                        <ul>
                            <li>1 IAM1 (firm/regional level)</li>
                            <li>3 IAM2s (practice/department)</li>
                            <li>9 IAM3s (offices/locations)</li>
                            <li>36+ IAM4s (specialist teams)</li>
                            <li>~$3,000/month total cost</li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- Deployment Section -->
            <section id="deployment" class="section">
                <h2>üöÄ Deployment Pipeline</h2>
                <p>Production-ready infrastructure with Terraform automation and CI/CD integration.</p>

                <div class="diagram-container">
                    <div class="diagram-title">End-to-End Deployment Flow</div>
                    <div class="mermaid">
flowchart TD
    Start([Developer: Use Template]) --> Clone[Clone Repository]
    Clone --> Config[Configure .env<br/>Set PROJECT_ID]
    Config --> Install[uv sync<br/>Install Dependencies]
    Install --> Deploy[make deploy<br/>Terraform Apply]

    subgraph "Google Cloud Deployment"
        Deploy --> Terraform[üèóÔ∏è Terraform]
        Terraform --> VertexAgent[Vertex AI Agent Engine]
        Terraform --> VertexSearch[Vertex AI Search]
        Terraform --> Storage[Cloud Storage]
        Terraform --> IAM[IAM & Security]

        VertexAgent --> IAM1_Live[üß† IAM1 Live<br/>Agent ID: XXXXXXX]
        VertexSearch --> IAM1_Live
        Storage --> IAM1_Live
    end

    IAM1_Live --> Test[Test in Playground]
    Test --> Success{Deploy<br/>Success?}
    Success -->|Yes| Monitor[üìä Monitor & Scale]
    Success -->|No| Debug[üêõ Debug Logs]
    Debug --> Deploy

    Monitor --> Update[git pull upstream<br/>Sync Updates]
    Update --> Deploy

    style Start fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
    style IAM1_Live fill:#48bb78,stroke:#333,stroke-width:3px,color:#fff
    style Monitor fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    </div>
                </div>

                <div class="diagram-container">
                    <div class="diagram-title">IAM1 Decision Framework</div>
                    <div class="mermaid">
flowchart TD
    Query[User Query] --> Analyze[IAM1 Analyzes Query]
    Analyze --> Simple{Simple<br/>Question?}

    Simple -->|Yes: greeting, basic info| DirectAnswer[Answer Directly]
    Simple -->|No| NeedsKnowledge{Knowledge<br/>Required?}

    NeedsKnowledge -->|Yes: facts, docs| RAG[Use retrieve_docs<br/>Query Vertex AI Search]
    NeedsKnowledge -->|No| CrossDomain{Cross-Domain<br/>Info Needed?}

    RAG --> HasAnswer{Has<br/>Answer?}
    HasAnswer -->|Yes| DirectAnswer
    HasAnswer -->|No| CrossDomain

    CrossDomain -->|Yes: other IAM1 domain| A2A[coordinate_with_peer_iam1<br/>A2A Protocol]
    CrossDomain -->|No| Specialized{Specialized<br/>Task?}

    A2A --> Synthesize[Synthesize Response]

    Specialized -->|Yes: research, code, data, slack| RouteIAM2[route_to_agent<br/>Delegate to IAM2]
    Specialized -->|No| MultiStep{Multi-Step<br/>Task?}

    RouteIAM2 --> Synthesize

    MultiStep -->|Yes| Orchestrate[Coordinate Multiple Agents<br/>IAM1 peers + IAM2 subordinates]
    MultiStep -->|No| DirectAnswer

    Orchestrate --> Synthesize
    Synthesize --> Response[Return to User]
    DirectAnswer --> Response

    style Query fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
    style Response fill:#48bb78,stroke:#333,stroke-width:2px,color:#fff
    style RAG fill:#ed8936,stroke:#333,stroke-width:2px,color:#fff
    style A2A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style RouteIAM2 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <div class="cta-section">
                <h2>Ready to Deploy Your First IAM1?</h2>
                <p style="font-size: 1.2em; margin: 20px 0;">Production-ready in under 5 minutes. Open source and free forever.</p>
                <div class="cta-buttons">
                    <a href="https://github.com/jeremylongshore/iam1-regional-manager" class="btn btn-primary" target="_blank">
                        View on GitHub
                    </a>
                    <a href="https://github.com/jeremylongshore/iam1-regional-manager#-quick-start" class="btn btn-secondary" target="_blank">
                        Quick Start Guide
                    </a>
                    <a href="https://github.com/sponsors/IntentSolutions" class="btn btn-secondary" target="_blank">
                        üíù Sponsor This Project
                    </a>
                </div>
            </div>

            <!-- Features Section -->
            <section class="section">
                <h2>üíé Key Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>üèóÔ∏è Production-Ready</h3>
                        <ul>
                            <li>Terraform infrastructure</li>
                            <li>CI/CD pipelines</li>
                            <li>Full observability</li>
                            <li>Deploy in minutes</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>ü§ñ Multi-Agent System</h3>
                        <ul>
                            <li>Hierarchical orchestration</li>
                            <li>Peer coordination (A2A)</li>
                            <li>4 specialist IAM2s</li>
                            <li>Distributed intelligence</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>üîí Enterprise-Grade</h3>
                        <ul>
                            <li>Client-isolated deployments</li>
                            <li>Private knowledge grounding</li>
                            <li>Secure A2A authentication</li>
                            <li>Scales to Fortune 500</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h3>üí∞ Business Model</h3>
                        <ul>
                            <li>Open source (MIT)</li>
                            <li>Reseller program (30%)</li>
                            <li>Enterprise services</li>
                            <li>GitHub Sponsors</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>

        <footer>
            <p><strong>IAM1 Battalion Commander</strong> - Production-ready hierarchical multi-agent command system</p>
            <p>Made with ‚ù§Ô∏è by <a href="https://intentsolutions.io" style="color: #667eea;">IntentSolutions</a></p>
            <p style="margin-top: 20px;">
                <a href="https://github.com/jeremylongshore/iam1-regional-manager" style="color: white; margin: 0 10px;">GitHub</a> ‚Ä¢
                <a href="https://github.com/sponsors/IntentSolutions" style="color: white; margin: 0 10px;">Sponsor</a> ‚Ä¢
                <a href="https://intentsolutions.io/reseller" style="color: white; margin: 0 10px;">Become a Reseller</a>
            </p>
        </footer>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#333',
                lineColor: '#764ba2',
                secondaryColor: '#48bb78',
                tertiaryColor: '#ed8936'
            },
            flowchart: {
                curve: 'basis',
                padding: 20
            }
        });
    </script>
</body>
</html>
